<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}</title>
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="{{ site.description }}">
    <link rel="canonical" href="{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ "/css/main.css" | prepend: site.baseurl }}">
    
    <!-- Google fonts -->
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,300' rel='stylesheet' type='text/css'>

    <!-- Google tracking -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-46895817-2', 'auto');
      ga('send', 'pageview');

    </script>
    <style>
      /*MOUSE FOLLOWER*/
      /* The "stage" */
      div#stage{
      position: relative; /* necessary to do absolute positioning of the image relative to this div's position */
      }
      /* The image that is following the mouse */
      img#follower1{ position: absolute; }
      img#follower2{ position: absolute; }
      img#follower3{ position: absolute; }
      img#follower4{ position: absolute; }
    </style>

    <!-- scripts for window behaviour -->
    <script src="../files/header.js" type="text/javascript"></script>
    <script src="../files/html5shiv.js"></script>
    <script src="../files/jquery_011.js" type="text/javascript"></script>
    <script src="../files/jquery-migrate-3.js" type="text/javascript"></script>
    <script src="../files/jquery_010.js" type="text/javascript"></script>
    <script src="../files/jquery_009.js" type="text/javascript"></script>
    <script src="../files/jquery_002.js" type="text/javascript"></script>
    <script src="../files/ajaxCallback.js" type="text/javascript"></script>
    <script src="../files/js.js" type="text/javascript"></script>
    <script src="../files/jquery_004.js" type="text/javascript"></script>
    <script src="../files/jquery_005.js" type="text/javascript"></script>
    <script src="../files/spip.js" type="text/javascript"></script>
    <script type="text/javascript" src="../files/jquery_006.js"></script>
    <script type="text/javascript" src="../files/jquery.js"></script>
    <script type="text/javascript" src="../files/jsdyn-javascript_porte_plume_start_js-9b46f63a.js"></script>
    <script>htactif=0;document.createElement('picture');</script>
    <script type="text/javascript" src="../files/rAF.js"></script>
    <script type="text/javascript" src="../files/jquery_003.js"></script>
    <script type="text/javascript" src="../files/image_responsive.js"></script>
    <script type="text/javascript" src="../files/picturefill.js"></script>
    <script type="text/javascript" src="../files/colors.js"></script>
    <script type="text/javascript" src="../files/jqColorPicker.js"></script>
    <script type="text/javascript" src="../files/palette.js"></script>


    <!--
    <script type="text/javascript" src="jquery-1.4.2.min.js"></script> -->
    <script type="text/javascript">
    // Set up a 30 Hz frame rate
    frameRate    =  30;
    timeInterval = Math.round( 1000 / frameRate );
    relMouseX    = -20;
    relMouseY    = -20;
    // butterfly:
    up = 1;
    right = 1;
    $(document).ready( function () {
      // get the stage offset
      offset = $('#stage').offset();
      // start calling animateFollower at the 'timeInterval' we calculated above
      atimer = setInterval( "animateFollower()", timeInterval );
    } );
    // track and save the position of the mouse
    $(document).mousemove( function(e) {
      mouseX = e.pageX;
      mouseY = e.pageY;
      relMouseX = relMouseX + 0.05*(mouseX - offset.left - relMouseX);
      relMouseY = relMouseY + 0.05*(mouseY - offset.top - relMouseY);
      if (mouseX - offset.left - relMouseX < 0){
        right = 1;
      }
      else{right = 0;}
      // display the current mouse positions
      $('#mouse_x-trace').text( mouseX );
      $('#mouse_y-trace').text( mouseY );
    } );
    // move the image where the mouse is
    // this function is called by the setInterval command above to run
    // at a rate of 30 frames per second
    function animateFollower() {
      if (right==0){
        if (up<5 && up>0 ){
          $('#follower1').css('left', relMouseX);
          $('#follower1').css('top', relMouseY-10);
          $('#follower2').css('left', -1000);
          $('#follower3').css('left', -1000);
          $('#follower4').css('left', -1000);
          up++;
        }
        else{
          $('#follower2').css('left', relMouseX);
          $('#follower2').css('top', relMouseY+10);
          $('#follower1').css('left', -1000);
          $('#follower3').css('left', -1000);
          $('#follower4').css('left', -1000);
          if (up>0){up=-2;}
          else{up++;}
        }
      }
      else{
        if (up<5 && up>0 ){
          $('#follower3').css('left', relMouseX);
          $('#follower3').css('top', relMouseY-10);
          $('#follower2').css('left', -1000);
          $('#follower1').css('left', -1000);
          $('#follower4').css('left', -1000);
          up++;
        }
        else{
          $('#follower4').css('left', relMouseX);
          $('#follower4').css('top', relMouseY+10);
          $('#follower2').css('left', -1000);
          $('#follower3').css('left', -1000);
          $('#follower1').css('left', -1000);
          if (up>0){up=-2;}
          else{up++;}
        }
      }
    }
    </script>

</head>
